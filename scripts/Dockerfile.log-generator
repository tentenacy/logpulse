FROM alpine:3.18

# 필요한 패키지 설치 (bash 추가)
RUN apk add --no-cache bash coreutils

# 로그 생성 스크립트 복사
COPY generate-logs.sh /usr/local/bin/generate-logs.sh

# 실행 권한 부여
RUN chmod +x /usr/local/bin/generate-logs.sh

# 로그 디렉토리 생성
RUN mkdir -p /app/logs

# 스크립트 실행 (bash 사용)
CMD ["/bin/bash", "/usr/local/bin/generate-logs.sh"]